import{c as E,d as T,r as L,a3 as W,t as O,f as a,a as R,q as C,Y,x as D,Z as X,ai as Z,n as J,j as Q,h as tt,aj as et,ak as nt,al as ot,am as U,m as V,p as at,X as st,P as lt,an as ct,ao as rt,ap as it,aq as ut,l as dt,ar as mt,as as ft,_ as ht,R as gt,a0 as Bt,y as x,z as y,A as h,G as A,ad as k,N as $,F as vt,ae as _t,a2 as pt,U as bt,V as Ct}from"./index-C_WQiL5x.js";/* empty css              */import{C as wt}from"./index-BEOc3wvK.js";import{r as xt,u as yt,C as kt}from"./index-CFH9amCW.js";import{I as St}from"./index-ChPeZUxy.js";import{B as P}from"./index-BsRtIP_C.js";import{u as Pt}from"./use-placeholder-CpEvXAMy.js";const[j,H]=E("action-bar"),z=Symbol(j),Tt={placeholder:Boolean,safeAreaInsetBottom:O};var It=T({name:j,props:Tt,setup(t,{slots:s}){const o=L(),n=Pt(o,H),{linkChildren:c}=W(z);c();const u=()=>{var d;return a("div",{ref:o,class:[H(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[(d=s.default)==null?void 0:d.call(s)])};return()=>t.placeholder?n(u):u()}});const At=R(It),[Ot,Dt]=E("action-bar-button"),Nt=C({},xt,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Et=T({name:Ot,props:Nt,setup(t,{slots:s}){const o=yt(),{parent:n,index:c}=Y(z),u=D(()=>{if(n){const l=n.children[c.value-1];return!(l&&"isButton"in l)}}),d=D(()=>{if(n){const l=n.children[c.value+1];return!(l&&"isButton"in l)}});return X({isButton:!0}),()=>{const{type:l,icon:B,text:g,color:_,loading:p,disabled:b}=t;return a(P,{class:Dt([l,{last:d.value,first:u.value}]),size:"large",type:l,icon:B,color:_,loading:p,disabled:b,onClick:o},{default:()=>[s.default?s.default():g]})}}});const K=R(Et),[Rt,i,S]=E("dialog"),Ft=C({},Z,{title:String,theme:String,width:J,message:[String,Function],callback:Function,allowHtml:Boolean,className:Q,transition:tt("van-dialog-bounce"),messageAlign:String,closeOnPopstate:O,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:O,closeOnClickOverlay:Boolean}),Ut=[...et,"transition","closeOnPopstate"];var q=T({name:Rt,props:Ft,emits:["confirm","cancel","keydown","update:show"],setup(t,{emit:s,slots:o}){const n=L(),c=nt({confirm:!1,cancel:!1}),u=e=>s("update:show",e),d=e=>{var r;u(!1),(r=t.callback)==null||r.call(t,e)},l=e=>()=>{t.show&&(s(e),t.beforeClose?(c[e]=!0,ct(t.beforeClose,{args:[e],done(){d(e),c[e]=!1},canceled(){c[e]=!1}})):d(e))},B=l("cancel"),g=l("confirm"),_=ot(e=>{var r,m;if(e.target!==((m=(r=n.value)==null?void 0:r.popupRef)==null?void 0:m.value))return;({Enter:t.showConfirmButton?g:U,Escape:t.showCancelButton?B:U})[e.key](),s("keydown",e)},["enter","esc"]),p=()=>{const e=o.title?o.title():t.title;if(e)return a("div",{class:i("header",{isolated:!t.message&&!o.default})},[e])},b=e=>{const{message:r,allowHtml:m,messageAlign:f}=t,w=i("message",{"has-title":e,[f]:f}),I=rt(r)?r():r;return m&&typeof I=="string"?a("div",{class:w,innerHTML:I},null):a("div",{class:w},[I])},v=()=>{if(o.default)return a("div",{class:i("content")},[o.default()]);const{title:e,message:r,allowHtml:m}=t;if(r){const f=!!(e||o.title);return a("div",{key:m?1:0,class:i("content",{isolated:!f})},[b(f)])}},F=()=>a("div",{class:[ut,i("footer")]},[t.showCancelButton&&a(P,{size:"large",text:t.cancelButtonText||S("cancel"),class:i("cancel"),style:{color:t.cancelButtonColor},loading:c.cancel,disabled:t.cancelButtonDisabled,onClick:B},null),t.showConfirmButton&&a(P,{size:"large",text:t.confirmButtonText||S("confirm"),class:[i("confirm"),{[it]:t.showCancelButton}],style:{color:t.confirmButtonColor},loading:c.confirm,disabled:t.confirmButtonDisabled,onClick:g},null)]),M=()=>a(At,{class:i("footer")},{default:()=>[t.showCancelButton&&a(K,{type:"warning",text:t.cancelButtonText||S("cancel"),class:i("cancel"),color:t.cancelButtonColor,loading:c.cancel,disabled:t.cancelButtonDisabled,onClick:B},null),t.showConfirmButton&&a(K,{type:"danger",text:t.confirmButtonText||S("confirm"),class:i("confirm"),color:t.confirmButtonColor,loading:c.confirm,disabled:t.confirmButtonDisabled,onClick:g},null)]}),G=()=>o.footer?o.footer():t.theme==="round-button"?M():F();return()=>{const{width:e,title:r,theme:m,message:f,className:w}=t;return a(lt,V({ref:n,role:"dialog",class:[i([m]),w],style:{width:st(e)},tabindex:0,"aria-labelledby":r||f,onKeydown:_,"onUpdate:show":u},at(t,Ut)),{default:()=>[p(),v(),G()]})}}});let N;const $t={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let Ht=C({},$t);function Kt(){({instance:N}=mt({setup(){const{state:s,toggle:o}=ft();return()=>a(q,V(s,{"onUpdate:show":o}),null)}}))}function Lt(t){return dt?new Promise((s,o)=>{N||Kt(),N.open(C({},Ht,t,{callback:n=>{(n==="confirm"?s:o)(n)}}))}):Promise.resolve(void 0)}const Vt=t=>Lt(C({showCancelButton:!0},t));R(q);const jt=t=>(bt("data-v-aa294472"),t=t(),Ct(),t),zt={class:"about-page"},qt={class:"bg-gradient-to-br from-blue-500 to-purple-600 px-4 pt-10 pb-6"},Mt={class:"flex items-center gap-4"},Gt={class:"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center text-2xl text-white font-bold"},Wt={class:"text-white"},Yt={class:"text-xl font-bold"},Xt={key:0,class:"text-sm opacity-80 mt-1"},Zt={key:1,class:"text-xs opacity-60 mt-0.5"},Jt={class:"mt-3"},Qt={class:"mt-6 px-4"},te=jt(()=>h("div",{class:"text-center text-xs text-gray-400 mt-8 pb-4"}," v1.0.0 ",-1)),ee=T({name:"About"}),ne=Object.assign(ee,{setup(t){const s=gt(),o=Bt(),n=D(()=>o.userInfo||{}),c=[{icon:"setting-o",title:"系统设置",path:""},{icon:"info-o",title:"关于我们",path:""},{icon:"question-o",title:"帮助与反馈",path:""},{icon:"shield-o",title:"隐私政策",path:""}],u=async()=>{try{await Vt({title:"提示",message:"确定要退出登录吗？"}),await o.logout(),s.replace("/login")}catch{}},d=l=>{l.path&&s.push(l.path)};return(l,B)=>{const g=St,_=kt,p=wt,b=P;return x(),y("div",zt,[h("div",qt,[h("div",Mt,[a(g,{src:n.value.avatar,round:"",width:"64",height:"64",fit:"cover",class:"border-2 border-white/30"},{error:A(()=>[h("div",Gt,k((n.value.name||n.value.username||"U").charAt(0)),1)]),_:1},8,["src"]),h("div",Wt,[h("div",Yt,k(n.value.name||n.value.username||"用户"),1),n.value.department?(x(),y("div",Xt,k(n.value.department),1)):$("",!0),n.value.email?(x(),y("div",Zt,k(n.value.email),1)):$("",!0)])])]),h("div",Jt,[a(p,{inset:""},{default:A(()=>[(x(),y(vt,null,_t(c,v=>a(_,{key:v.title,title:v.title,icon:v.icon,"is-link":"",onClick:F=>d(v)},null,8,["title","icon","onClick"])),64))]),_:1})]),h("div",Qt,[a(b,{block:"",round:"",plain:"",type:"danger",onClick:u},{default:A(()=>[pt(" 退出登录 ")]),_:1})]),te])}}}),ue=ht(ne,[["__scopeId","data-v-aa294472"]]);export{ue as default};
