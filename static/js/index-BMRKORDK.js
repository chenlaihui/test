import{q as V,o as l,c as a,a as t,t as r,w as N,F as u,e as i,n as b,f as oe,u as re,a1 as se,r as p,H as ne,l as L,Z as S,b as n,g as ue}from"./index-D20zfMTO.js";import{_ as ie,a as de}from"./index-DBiZD2fZ.js";import{_ as ce}from"./index-iPh4gDYS.js";const be={class:"flex justify-between items-start mb-1"},ve=["innerHTML"],ge={class:"flex gap-1.5 flex-wrap mt-1"},pe={class:"text-gray-600 text-[13px]"},he=t("span",{class:"text-gray-400 text-[13px]"},"·",-1),me={class:"text-gray-500 text-[13px]"},ye={class:"flex items-center gap-3 text-sm mt-3"},xe={class:"flex-1 flex items-center"},_e={class:"flex gap-1.5 flex-wrap max-h-[34px] overflow-hidden leading-tight"},fe=t("div",{class:"w-px h-12 bg-gray-200"},null,-1),ke={class:"flex items-center gap-3"},we={class:"relative w-9 h-9 rounded-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-white text-sm font-bold flex-shrink-0"},Ce={class:"flex flex-col gap-1"},$e={class:"text-[11px] text-gray-500"},Se={class:"text-[15px] font-semibold text-gray-900"},je={__name:"index",props:{product:{type:Object,required:!0},searchKeyword:{type:String,default:""}},emits:["click","monitor","call"],setup(x){const h=x,j=V(()=>{if(!h.searchKeyword)return h.product.name;const d=new RegExp(`(${h.searchKeyword})`,"gi");return h.product.name.replace(d,'<span style="color: #ff5722">$1</span>')}),m=V(()=>{const d=h.product.customers||[];if(d.length<=4)return d.map(v=>({name:v,isMore:!1}));const g=d.slice(0,4).map(v=>({name:v,isMore:!1}));return g.push({name:`+${d.length-4}`,isMore:!0}),g});return(d,g)=>(l(),a("div",{class:"bg-white border border-gray-200 rounded-lg p-3 mb-3 shadow-sm cursor-pointer transition-all hover:shadow-md hover:-translate-y-0.5",onClick:g[2]||(g[2]=v=>d.$emit("click"))},[t("div",be,[t("div",null,[t("div",{class:"text-lg font-bold text-gray-900",innerHTML:j.value},null,8,ve),t("div",ge,[t("span",pe,r(x.product.domain),1),he,t("span",me,r(x.product.type),1)])]),t("button",{class:"w-6 h-6 bg-center bg-no-repeat bg-contain hover:opacity-70 transition-opacity",style:{"background-image":"url('assets/filter-records.png')"},onClick:g[0]||(g[0]=N(v=>d.$emit("monitor"),["stop"]))})]),t("div",ye,[t("div",xe,[t("div",_e,[(l(!0),a(u,null,i(m.value,(v,T)=>(l(),a("span",{key:T,class:b(["px-1.5 py-px bg-gray-100 text-gray-600 rounded text-[10px] border border-gray-200 whitespace-nowrap leading-snug",{"bg-blue-50 text-blue-700 border-blue-200 font-semibold":v.isMore}])},r(v.name),3))),128))])]),fe,t("div",ke,[t("div",we,[oe(r(x.product.manager.avatar)+" ",1),t("div",{class:"absolute -right-0.5 -bottom-0.5 w-4 h-4 bg-white rounded-full border border-white cursor-pointer hover:scale-110 transition-transform",style:{"background-image":"url('assets/telphone.png')","background-size":"contain","background-repeat":"no-repeat","background-position":"center"},onClick:g[1]||(g[1]=N(v=>d.$emit("call",x.product.manager.phone),["stop"]))})]),t("div",Ce,[t("span",$e,r(x.product.manager.org),1),t("span",Se,r(x.product.manager.name),1)])])])]))}},Te={class:"min-h-screen bg-gray-100"},Me={class:"grid grid-cols-2 gap-2.5"},Oe=["onClick"],Le={key:0,class:"text-lg font-bold"},Ve={class:"grid grid-cols-4 gap-2.5"},De=["onClick"],Ie={key:0,class:"absolute top-1 right-1 text-sm font-bold"},Ne={class:"flex gap-0 border-l-2 border-gray-200 pl-0"},Xe={class:"flex-[0_0_100px] bg-gray-100 border-r border-gray-200"},qe=["onClick"],Be={class:"flex-1 bg-white max-h-[300px] overflow-y-auto"},Fe={key:0,class:"p-4"},Ae=["onClick"],Ee={key:0,class:"text-lg font-bold"},Pe={key:1,class:"p-4"},Ye=["onClick"],Ke={key:0,class:"text-lg font-bold"},He={key:2,class:"p-4"},Re=["onClick"],Ue={key:0,class:"text-lg font-bold"},ze={class:"flex gap-0 border-l-2 border-gray-200 pl-0"},Ge={class:"flex-[0_0_100px] bg-gray-100 border-r border-gray-200"},Je=["onClick"],Ze={class:"flex-1 bg-white max-h-[300px] overflow-y-auto"},Qe={key:0,class:"p-4"},We=["onClick"],et={key:0,class:"text-lg font-bold"},tt={key:1,class:"p-4"},lt=["onClick"],at={key:0,class:"text-lg font-bold"},ot={class:"flex gap-0 border-l-2 border-gray-200 pl-0"},rt={class:"flex-[0_0_100px] bg-gray-100 border-r border-gray-200"},st=["onClick"],nt={class:"flex-1 bg-white max-h-[300px] overflow-y-auto"},ut={key:0,class:"p-4"},it=["onClick"],dt={key:0,class:"text-lg font-bold"},ct={key:1,class:"p-4"},bt=["onClick"],vt={key:0,class:"text-lg font-bold"},gt={class:"px-4 py-3 bg-white"},pt=t("div",{class:"flex items-center justify-center py-5 text-gray-500 text-[13px] gap-2.5"},[t("span",{class:"w-8 h-px bg-gray-200"}),t("span",null,"已加载全部"),t("span",{class:"w-8 h-px bg-gray-200"})],-1),ht=t("div",{class:"h-20"},null,-1),_t={__name:"index",setup(x){const h=re(),j=se(),m=p("");ne(()=>{j.query.keyword&&(m.value=j.query.keyword)});const d=p("product"),g=[{label:"查客户",value:"customer"},{label:"查产品",value:"product"}],v=p(!1),T=[{key:"domain",label:"领域"},{key:"series",label:"系列"},{key:"department",label:"部门"}],X=[{key:"org1",label:"上级组织+1"},{key:"org2",label:"上级组织+2"}],q=[{label:"行政数字化",value:"admin"},{label:"IT Infra",value:"itinfra"},{label:"ITTC",value:"ittc"}],M=p([]),B=[{label:"A1-XXX",value:"a1"},{label:"SS-Tools",value:"sstools"},{label:"CC-Smart",value:"ccsmart"}],O=p([]),f=p("manufacturing"),F=[{label:"制造部门",value:"manufacturing"},{label:"技术部门",value:"technology"},{label:"管理部门",value:"admin"}],A=[{label:"生产制造部",value:"mfg-1"},{label:"质量管理部",value:"mfg-2"},{label:"供应链部",value:"mfg-3"}],E=[{label:"研发中心",value:"tech-1"},{label:"工程技术部",value:"tech-2"},{label:"信息技术部",value:"tech-3"}],P=[{label:"人力资源部",value:"admin-1"},{label:"财务部",value:"admin-2"},{label:"行政部",value:"admin-3"}],_=p([]),k=p("japan"),Y=[{label:"对日",value:"japan"},{label:"国内",value:"domestic"}],K=[{label:"工场SystemGr",value:"jp1-1"},{label:"Smart制造推进部",value:"jp1-2"},{label:"技术部门",value:"jp1-3"}],H=[{label:"集团总部",value:"cn1-1"},{label:"华东公司",value:"cn1-2"},{label:"华南公司",value:"cn1-3"}],w=p([]),C=p("japan"),R=[{label:"对日",value:"japan"},{label:"国内",value:"domestic"}],U=[{label:"工场SystemGr",value:"jp2-1"},{label:"ものを作りSol",value:"jp2-2"},{label:"生产管理部",value:"jp2-3"}],z=[{label:"集团总部",value:"cn2-1"},{label:"制造中心",value:"cn2-2"},{label:"研发中心",value:"cn2-3"}],$=p([]),D=[{id:1,name:"A1工业软件云平台",domain:"IT Infra · A1-Core",type:"SaaS服务",customers:["雅马哈电子","雅马哈发动机","东陶机电","松下电器","日立制作","富士通","NEC电子"],manager:{avatar:"张",org:"YMSLX | 平台部",name:"张伟",phone:"13800001001"}},{id:2,name:"SS小而美工具套件",domain:"行政数字化 · SS-Tools",type:"混合云",customers:["雅马哈电子","华为技术","本田技研","丰田汽车","日产汽车","三菱重工"],manager:{avatar:"李",org:"YMSLX | 工具组",name:"李芳",phone:"13800001002"}},{id:3,name:"CC智能排产方案",domain:"ITTC · CC-Smart",type:"本地部署",customers:["东陶机电","思科系统","天康物资","日产汽车","三菱重工","川崎重工","松下电器","富士通","NEC电子"],manager:{avatar:"王",org:"YMSLX | 方案部",name:"王强",phone:"13800001003"}},{id:4,name:"A1工业软件云平台 - iPM模块",domain:"智能制造 · 生产计划",type:"SaaS服务",customers:["雅马哈电子","丰田汽车","川崎重工","日立制作","松下电器","本田技研","富士通"],manager:{avatar:"赵",org:"YMSLX | 制造部",name:"赵敏",phone:"13800001004"}},{id:5,name:"数采工业互联平台",domain:"IoT · 数据采集",type:"边缘计算",customers:["东陶机电","松下电器","日产汽车","富士通","NEC电子","三菱重工","川崎重工","日立制作","本田技研","丰田汽车"],manager:{avatar:"刘",org:"YMSLX | IoT部",name:"刘洋",phone:"13800001005"}}],G=V(()=>{if(!m.value.trim())return D;const o=m.value.trim().toLowerCase();return D.filter(c=>c.name.toLowerCase().includes(o)||c.domain.toLowerCase().includes(o)||c.manager.name.toLowerCase().includes(o))}),y=(o,c)=>{const s={domain:M,series:O,department:_,org1:w,org2:$}[o],I=s.value.indexOf(c);I>-1?s.value.splice(I,1):s.value.push(c)},J=()=>{h.back()},Z=()=>{console.log("搜索:",m.value)},Q=()=>{m.value=""},W=o=>{o==="customer"&&h.push({name:"CustomerList"})},ee=o=>{console.log("筛选条件变更:",o)},te=o=>{h.push({name:"ProductDetail",query:{id:o.id}})},le=o=>{console.log("监控产品:",o.name),h.push({name:"ProductDetail",query:{id:o.id,product:o.name}})},ae=o=>{console.log("拨打电话:",o)};return(o,c)=>(l(),a("div",Te,[L(ie,{modelValue:m.value,"onUpdate:modelValue":c[0]||(c[0]=e=>m.value=e),placeholder:"搜产品或说话发指令",onBack:J,onSearch:Z,onClear:Q},null,8,["modelValue"]),L(ce,{modelValue:d.value,"onUpdate:modelValue":[c[1]||(c[1]=e=>d.value=e),W],tabs:g},null,8,["modelValue"]),L(de,{groupSwitch:v.value,"onUpdate:groupSwitch":c[2]||(c[2]=e=>v.value=e),"main-filters":T,"more-filters":X,onFilterChange:ee},{domain:S(()=>[t("div",Me,[(l(),a(u,null,i(q,e=>t("div",{key:e.value,class:b(["flex items-center justify-between px-4 py-2 bg-white border border-gray-200 rounded-lg cursor-pointer transition-all hover:bg-gray-50 hover:border-gray-300 hover:-translate-y-px hover:shadow-sm",{"bg-blue-50 border-blue-600 text-blue-600 font-medium":M.value.includes(e.value)}]),onClick:s=>y("domain",e.value)},[t("span",null,r(e.label),1),M.value.includes(e.value)?(l(),a("span",Le,"✓")):n("",!0)],10,Oe)),64))])]),series:S(()=>[t("div",Ve,[(l(),a(u,null,i(B,e=>t("div",{key:e.value,class:b(["relative flex flex-col items-center justify-center px-2 py-1.5 bg-white border border-gray-200 rounded-lg cursor-pointer transition-all hover:bg-gray-50 hover:border-gray-300 hover:-translate-y-px hover:shadow-sm text-center gap-1 text-sm",{"bg-blue-50 border-blue-600 text-blue-600 font-medium":O.value.includes(e.value)}]),onClick:s=>y("series",e.value)},[t("span",null,r(e.label),1),O.value.includes(e.value)?(l(),a("span",Ie," ✓ ")):n("",!0)],10,De)),64))])]),department:S(()=>[t("div",Ne,[t("div",Xe,[(l(),a(u,null,i(F,e=>t("div",{key:e.value,class:b(["px-3 py-4 text-sm text-gray-600 cursor-pointer border-b border-gray-200 transition-all text-center relative",{"bg-white text-blue-600 font-semibold border-r-3 border-r-blue-600":f.value===e.value,"hover:bg-gray-50 hover:text-blue-600":f.value!==e.value}]),onClick:s=>f.value=e.value},r(e.label),11,qe)),64))]),t("div",Be,[f.value==="manufacturing"?(l(),a("div",Fe,[(l(),a(u,null,i(A,e=>t("div",{key:e.value,class:b(["flex items-center justify-between px-4 py-3.5 mb-2.5 last:mb-0 bg-white border border-gray-200 rounded-lg cursor-pointer transition-all hover:bg-gray-50 hover:border-gray-300 hover:translate-x-0.5 hover:shadow-sm text-[15px]",{"bg-blue-50 border-blue-600 text-blue-600 font-medium":_.value.includes(e.value)}]),onClick:s=>y("department",e.value)},[t("span",null,r(e.label),1),_.value.includes(e.value)?(l(),a("span",Ee,"✓")):n("",!0)],10,Ae)),64))])):n("",!0),f.value==="technology"?(l(),a("div",Pe,[(l(),a(u,null,i(E,e=>t("div",{key:e.value,class:b(["flex items-center justify-between px-4 py-3.5 mb-2.5 last:mb-0 bg-white border border-gray-200 rounded-lg cursor-pointer transition-all hover:bg-gray-50 hover:border-gray-300 hover:translate-x-0.5 hover:shadow-sm text-[15px]",{"bg-blue-50 border-blue-600 text-blue-600 font-medium":_.value.includes(e.value)}]),onClick:s=>y("department",e.value)},[t("span",null,r(e.label),1),_.value.includes(e.value)?(l(),a("span",Ke,"✓")):n("",!0)],10,Ye)),64))])):n("",!0),f.value==="admin"?(l(),a("div",He,[(l(),a(u,null,i(P,e=>t("div",{key:e.value,class:b(["flex items-center justify-between px-4 py-3.5 mb-2.5 last:mb-0 bg-white border border-gray-200 rounded-lg cursor-pointer transition-all hover:bg-gray-50 hover:border-gray-300 hover:translate-x-0.5 hover:shadow-sm text-[15px]",{"bg-blue-50 border-blue-600 text-blue-600 font-medium":_.value.includes(e.value)}]),onClick:s=>y("department",e.value)},[t("span",null,r(e.label),1),_.value.includes(e.value)?(l(),a("span",Ue,"✓")):n("",!0)],10,Re)),64))])):n("",!0)])])]),org1:S(()=>[t("div",ze,[t("div",Ge,[(l(),a(u,null,i(Y,e=>t("div",{key:e.value,class:b(["px-3 py-4 text-sm text-gray-600 cursor-pointer border-b border-gray-200 transition-all text-center relative",{"bg-white text-blue-600 font-semibold border-r-3 border-r-blue-600":k.value===e.value,"hover:bg-gray-50 hover:text-blue-600":k.value!==e.value}]),onClick:s=>k.value=e.value},r(e.label),11,Je)),64))]),t("div",Ze,[k.value==="japan"?(l(),a("div",Qe,[(l(),a(u,null,i(K,e=>t("div",{key:e.value,class:b(["flex items-center justify-between px-4 py-3.5 mb-2.5 last:mb-0 bg-white border border-gray-200 rounded-lg cursor-pointer transition-all hover:bg-gray-50 hover:border-gray-300 hover:translate-x-0.5 hover:shadow-sm text-[15px]",{"bg-blue-50 border-blue-600 text-blue-600 font-medium":w.value.includes(e.value)}]),onClick:s=>y("org1",e.value)},[t("span",null,r(e.label),1),w.value.includes(e.value)?(l(),a("span",et,"✓")):n("",!0)],10,We)),64))])):n("",!0),k.value==="domestic"?(l(),a("div",tt,[(l(),a(u,null,i(H,e=>t("div",{key:e.value,class:b(["flex items-center justify-between px-4 py-3.5 mb-2.5 last:mb-0 bg-white border border-gray-200 rounded-lg cursor-pointer transition-all hover:bg-gray-50 hover:border-gray-300 hover:translate-x-0.5 hover:shadow-sm text-[15px]",{"bg-blue-50 border-blue-600 text-blue-600 font-medium":w.value.includes(e.value)}]),onClick:s=>y("org1",e.value)},[t("span",null,r(e.label),1),w.value.includes(e.value)?(l(),a("span",at,"✓")):n("",!0)],10,lt)),64))])):n("",!0)])])]),org2:S(()=>[t("div",ot,[t("div",rt,[(l(),a(u,null,i(R,e=>t("div",{key:e.value,class:b(["px-3 py-4 text-sm text-gray-600 cursor-pointer border-b border-gray-200 transition-all text-center relative",{"bg-white text-blue-600 font-semibold border-r-3 border-r-blue-600":C.value===e.value,"hover:bg-gray-50 hover:text-blue-600":C.value!==e.value}]),onClick:s=>C.value=e.value},r(e.label),11,st)),64))]),t("div",nt,[C.value==="japan"?(l(),a("div",ut,[(l(),a(u,null,i(U,e=>t("div",{key:e.value,class:b(["flex items-center justify-between px-4 py-3.5 mb-2.5 last:mb-0 bg-white border border-gray-200 rounded-lg cursor-pointer transition-all hover:bg-gray-50 hover:border-gray-300 hover:translate-x-0.5 hover:shadow-sm text-[15px]",{"bg-blue-50 border-blue-600 text-blue-600 font-medium":$.value.includes(e.value)}]),onClick:s=>y("org2",e.value)},[t("span",null,r(e.label),1),$.value.includes(e.value)?(l(),a("span",dt,"✓")):n("",!0)],10,it)),64))])):n("",!0),C.value==="domestic"?(l(),a("div",ct,[(l(),a(u,null,i(z,e=>t("div",{key:e.value,class:b(["flex items-center justify-between px-4 py-3.5 mb-2.5 last:mb-0 bg-white border border-gray-200 rounded-lg cursor-pointer transition-all hover:bg-gray-50 hover:border-gray-300 hover:translate-x-0.5 hover:shadow-sm text-[15px]",{"bg-blue-50 border-blue-600 text-blue-600 font-medium":$.value.includes(e.value)}]),onClick:s=>y("org2",e.value)},[t("span",null,r(e.label),1),$.value.includes(e.value)?(l(),a("span",vt,"✓")):n("",!0)],10,bt)),64))])):n("",!0)])])]),_:1},8,["groupSwitch"]),t("div",gt,[(l(!0),a(u,null,i(G.value,e=>(l(),ue(je,{key:e.id,product:e,"search-keyword":m.value,onClick:s=>te(e),onMonitor:s=>le(e),onCall:ae},null,8,["product","search-keyword","onClick","onMonitor"]))),128))]),pt,ht]))}};export{_t as default};
